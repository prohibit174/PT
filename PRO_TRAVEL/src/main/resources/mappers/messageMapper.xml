<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/td/mybatis-3-mapper.dtd">

<mapper namespace="kosta.travel.mappers.messageMapper">
	<insert id="message_insert">
		INSERT INTO message(
			m_num, u_id_sender, u_id_recipient, m_category, m_date, m_status, m_content
		) VALUES (
			#{m_num}, #{u_id_sender}, #{u_id_recipient}, #{m_category}, sysdate, 'no'
			, #{m_content} 
		)
	</insert>
	
	<!-- 쪽지 번호 증가 -->
	<select id="max_num" resultType="integer">
		SELECT max(m_num) FROM message
	</select>
	
	<!-- 쪽지 리스트 출력 -->
	<select id="list" resultType="kosta.travel.domain.MessageVO">
		SELECT * FROM message
	</select>
</mapper>